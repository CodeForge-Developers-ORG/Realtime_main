{"version":3,"sources":["turbopack:///[project]/src/components/layout/Layout.tsx","turbopack:///[project]/src/services/locationService.ts"],"sourcesContent":["import React from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport Header from \"./Header\";\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Layout = ({ children }: LayoutProps) => {\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen\">\r\n      <Header />\r\n      <main className=\"flex-grow\">{children}</main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","// API service for fetching countries, states, and cities\r\n\r\nexport interface Country {\r\n  name: string;\r\n  code: string;\r\n}\r\n\r\nexport interface State {\r\n  name: string;\r\n  code: string;\r\n  countryCode: string;\r\n}\r\n\r\ninterface CountriesResponse {\r\n  error: boolean;\r\n  msg?: string;\r\n  data: Array<{\r\n    country: string;\r\n    iso2?: string;\r\n  }>;\r\n}\r\n\r\ninterface StatesResponse {\r\n  error: boolean;\r\n  msg?: string;\r\n  data?: {\r\n    name?: string;\r\n    iso2?: string;\r\n    states?: Array<{\r\n      name: string;\r\n      state_code?: string;\r\n    }>;\r\n  };\r\n}\r\n\r\n// Fetch all countries\r\nexport const fetchCountries = async (): Promise<Country[]> => {\r\n  try {\r\n    const response = await fetch(\"https://countriesnow.space/api/v0.1/countries\");\r\n    const data: CountriesResponse = await response.json();\r\n\r\n    if (data.error) {\r\n      throw new Error(data.msg || \"Failed to fetch countries\");\r\n    }\r\n\r\n    return data.data.map((country) => ({\r\n      name: country.country,\r\n      code: country.iso2 || country.country.substring(0, 2).toUpperCase(),\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"Error fetching countries:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Fallback method for fetching states\r\nconst fetchStatesByCountryFallback = async (countryCode: string): Promise<State[]> => {\r\n  try {\r\n    const response = await fetch(\"https://countriesnow.space/api/v0.1/countries/states/q\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        country: countryCode,\r\n      }),\r\n    });\r\n\r\n    const data: StatesResponse = await response.json();\r\n\r\n    if (data.error || !data.data?.states) {\r\n      console.error(\"Fallback API error:\", data);\r\n      return [];\r\n    }\r\n\r\n    return data.data.states.map((state) => ({\r\n      name: state.name,\r\n      code: state.state_code || state.name.substring(0, 2).toUpperCase(),\r\n      countryCode,\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"Error in fallback state fetch:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n// Fetch states by country\r\nexport const fetchStatesByCountry = async (countryCode: string): Promise<State[]> => {\r\n  try {\r\n    const response = await fetch(\"https://countriesnow.space/api/v0.1/countries/states\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        country: countryCode,\r\n        iso2: countryCode,\r\n      }),\r\n    });\r\n\r\n    const data: StatesResponse = await response.json();\r\n\r\n    if (data.error || !data.data?.states) {\r\n      console.warn(\"Primary API failed, using fallback:\", data);\r\n      return fetchStatesByCountryFallback(countryCode);\r\n    }\r\n\r\n    return data.data.states.map((state) => ({\r\n      name: state.name,\r\n      code: state.state_code || state.name.substring(0, 2).toUpperCase(),\r\n      countryCode,\r\n    }));\r\n  } catch (error) {\r\n    console.error(\"Error fetching states:\", error);\r\n    return fetchStatesByCountryFallback(countryCode);\r\n  }\r\n};\r\n\r\nconst locationService = {\r\n  fetchCountries,\r\n  fetchStatesByCountry,\r\n};\r\n\r\nexport default locationService;\r\n"],"names":[],"mappings":"+EACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,aAMe,CAAC,UAAE,CAAQ,CAAe,GAErC,CAAA,EAAA,EAAA,IAAA,EAAC,IAQU,EARV,CAAI,UAAU,uCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAa,IAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CAAA,qDCuBN,IAoBD,EAA+B,AApBxB,MAoB+B,IAC1C,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,yDAA0D,CACrF,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,QAAS,CACX,EACF,GAEM,EAAuB,MAAM,EAAS,IAAI,GAEhD,GAAI,EAAK,KAAK,EAAI,CAAC,EAAK,IAAI,EAAE,OAE5B,CAFoC,MACpC,QAAQ,KAAK,CAAC,sBAAuB,GAC9B,EAAE,CAGX,OAAO,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,AAAC,IAAW,CACtC,GADqC,EAC/B,EAAM,IAAI,CAChB,KAAM,EAAM,UAAU,EAAI,EAAM,IAAI,CAAC,SAAS,CAAC,EAAG,GAAG,WAAW,eAChE,EACF,CAAC,CACH,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,iCAAkC,GACzC,EAAE,AACX,CACF,IAkCwB,CACtB,eAnF4B,UAC5B,GAAI,CACF,CAqFW,GArFL,EAAW,MAAM,MAAM,iDACvB,EAA0B,MAAM,EAAS,IAAI,GAEnD,GAAI,EAAK,KAAK,CACZ,CADc,KACJ,AAAJ,MAAU,EAAK,GAAG,EAAI,6BAG9B,OAAO,EAAK,IAAI,CAAC,GAAG,CAAC,AAAC,IAAa,CACjC,KADgC,AAC1B,EAAQ,OAAO,CACrB,KAAM,EAAQ,IAAI,EAAI,EAAQ,OAAO,CAAC,SAAS,CAAC,EAAG,GAAG,WAAW,GACnE,CAAC,CACH,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,4BAA6B,GACpC,EAAE,AACX,CACF,EAmEE,qBAjCkC,MAAO,IACzC,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,uDAAwD,CACnF,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CACnB,QAAS,EACT,KAAM,CACR,EACF,GAEM,EAAuB,MAAM,EAAS,IAAI,GAEhD,GAAI,EAAK,KAAK,EAAI,CAAC,EAAK,IAAI,EAAE,OAE5B,CAFoC,MACpC,QAAQ,IAAI,CAAC,sCAAuC,GAC7C,EAA6B,GAGtC,OAAO,EAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAE,AAAD,IAAY,CACtC,GADqC,EAC/B,EAAM,IAAI,CAChB,KAAM,EAAM,UAAU,EAAI,EAAM,IAAI,CAAC,SAAS,CAAC,EAAG,GAAG,WAAW,eAChE,EACF,CAAC,CACH,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,yBAA0B,GACjC,EAA6B,EACtC,CACF,CAKA"}