{"version":3,"sources":["turbopack:///[project]/src/components/common/Bredacrumb.tsx","turbopack:///[project]/src/components/layout/Layout.tsx","turbopack:///[project]/src/components/products/Card.tsx","turbopack:///[project]/src/app/products/category/[id]/page.tsx"],"sourcesContent":["// components/common/AdvancedBreadcrumb.tsx\r\n\"use client\";\r\n\r\nimport React from \"react\";\r\nimport Link from \"next/link\";\r\nimport { BreadcrumbProps } from \"@/types/breadcrumb\";\r\n\r\nconst AdvancedBreadcrumb: React.FC<BreadcrumbProps> = ({\r\n  items,\r\n  separator = \"chevron\", // 'chevron', 'slash', 'arrow', custom\r\n  className = \"\",\r\n}) => {\r\n  const getSeparator = () => {\r\n    switch (separator) {\r\n      case \"chevron\":\r\n        return (\r\n          <span className=\"mx-2 text-gray-300\">\r\n            <svg\r\n              className=\"w-4 h-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\">\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M9 5l7 7-7 7\"\r\n              />\r\n            </svg>\r\n          </span>\r\n        );\r\n      case \"slash\":\r\n        return <span className=\"mx-2 text-gray-300\">/</span>;\r\n      case \"arrow\":\r\n        return <span className=\"mx-2 text-gray-300\">â†’</span>;\r\n      default:\r\n        return separator;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav\r\n      className={`flex items-center flex-wrap gap-1 bg-[#F9F9F9] py-[14px] px-4 lg:px-[60px] text-sm ${className}`}>\r\n      {/* Home Icon - Always first */}\r\n      {/* <Link\r\n        href=\"/\"\r\n        className=\"flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200\"\r\n      >\r\n        <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n        </svg>\r\n        Home\r\n      </Link> */}\r\n\r\n      {/* {getSeparator()} */}\r\n\r\n      {/* Dynamic Items */}\r\n      {items.map((item, index) => {\r\n        const isLastItem = index === items.length - 1;\r\n\r\n        return (\r\n          <div key={index} className=\"flex items-center\">\r\n            {/* Item with icon */}\r\n            <div className=\"flex items-center\">\r\n              {item.icon && (\r\n                <span className=\"mr-1 flex items-center text-gray-400\">\r\n                  {item.icon}\r\n                </span>\r\n              )}\r\n\r\n              {item.href && !isLastItem ? (\r\n                <Link\r\n                  href={item.href}\r\n                  className=\"text-gray-500 hover:text-gray-700 transition-colors duration-200\">\r\n                  {item.label?.toLocaleUpperCase()}\r\n                </Link>\r\n              ) : (\r\n                <span\r\n                  className={`${\r\n                    isLastItem ? \"text-[#EA5921] font-[300]\" : \"text-gray-500\"\r\n                  }`}>\r\n                  {item.label?.toLocaleUpperCase()}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            {/* Separator - last item ke baad nahi */}\r\n            {!isLastItem && getSeparator()}\r\n          </div>\r\n        );\r\n      })}\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default AdvancedBreadcrumb;\r\n","import React from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport Header from \"./Header\";\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst Layout = ({ children }: LayoutProps) => {\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen\">\r\n      <Header />\r\n      <main className=\"flex-grow\">{children}</main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { baseUri } from \"@/services/constant\";\r\n\r\ntype Product = {\r\n  image?: string | null;\r\n  name?: string | null;\r\n};\r\n\r\ninterface CardProps {\r\n  it?: Product;\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({ it }) => {\r\n  return (\r\n    <div className=\"bg-gray-50 rounded-md md:rounded-xl p-4 shadow-sm cursor-pointer hover:shadow-md transition\">\r\n      <div className=\"bg-white rounded-lg p-0 flex items-center justify-center h-30 md:h-40\">\r\n        <img\r\n          src={`${baseUri}${it?.image ?? \"\"}`}\r\n          alt={it?.name ?? \"\"}\r\n          className=\"max-h-full object-contain\"\r\n        />\r\n      </div>\r\n      <div className=\"mt-3 text-black text-center font-base md:font-medium line-clamp-1\">{it?.name}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","\"use client\";\r\n\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport Layout from \"@/components/layout/Layout\";\r\nimport Link from \"next/link\";\r\nimport { useParams, notFound } from \"next/navigation\";\r\nimport Card from \"@/components/products/Card\";\r\nimport AdvancedBreadcrumb from \"@/components/common/Bredacrumb\";\r\n\r\n// ðŸ”¹ Types\r\ntype Product = {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  slug: string;\r\n  images: string[];\r\n  features: string[];\r\n  category: {\r\n    name: string;\r\n    id: string;\r\n    slug: string;\r\n  };\r\n};\r\n\r\n// ðŸ”¹ Fetch function\r\nasync function getProductsByCategory(categoryId: string, page = 1) {\r\n  const res = await fetch(\r\n    `https://app.realtimebiometrics.net/api/content/products?category_id=${categoryId}&page=${page}`,\r\n    { cache: \"no-store\" }\r\n  );\r\n\r\n  if (!res.ok) throw new Error(\"Failed to fetch products\");\r\n  const data = await res.json();\r\n  return data;\r\n}\r\n\r\nexport default function CategoryPage() {\r\n  const { id } = useParams();\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [loading, setLoading] = useState(true);\r\n  const loaderRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // ðŸ”¹ Load paginated data\r\n  const loadProducts = async (pageNum: number) => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await getProductsByCategory(id as string, pageNum);\r\n      const newProducts: Product[] = res?.data || [];\r\n\r\n      if (newProducts.length > 0) {\r\n        setProducts((prev) => {\r\n          const merged = [...prev, ...newProducts];\r\n          // remove duplicates by ID\r\n          return Array.from(new Map(merged.map((p) => [p.id, p])).values());\r\n        });\r\n        setHasMore(res.meta.current_page < res.meta.last_page);\r\n      } else {\r\n        setHasMore(false);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setHasMore(false);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ðŸ”¹ Initial fetch\r\n  useEffect(() => {\r\n    setProducts([]);\r\n    setPage(1);\r\n    loadProducts(1);\r\n  }, [id]);\r\n\r\n  // ðŸ”¹ Fetch next pages\r\n  useEffect(() => {\r\n    if (page > 1) loadProducts(page);\r\n  }, [page]);\r\n\r\n  // ðŸ”¹ Infinite Scroll observer\r\n  useEffect(() => {\r\n    if (!loaderRef.current) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        const first = entries[0];\r\n        if (first.isIntersecting && hasMore && !loading) {\r\n          setPage((prev) => prev + 1);\r\n        }\r\n      },\r\n      { threshold: 1 }\r\n    );\r\n\r\n    observer.observe(loaderRef.current);\r\n    return () => observer.disconnect();\r\n  }, [hasMore, loading]);\r\n\r\n  if (!loading && products.length === 0) {\r\n    notFound();\r\n  }\r\n\r\n  const categoryName = products[0]?.category?.name || \"Products\";\r\n  const breadcrumbItems = [\r\n    { label: \"Home\", href: \"/\" },\r\n    { label: \"Products\", href: \"/products\" },\r\n    { label: products[0]?.category?.name || \"Category\", href: `/products/category/${id}` },\r\n  ];\r\n  return (\r\n    <Layout>\r\n      <AdvancedBreadcrumb items={breadcrumbItems} />\r\n      <div className=\"max-w-6xl mx-auto px-6 py-12 bg-white\">\r\n        <h1 className=\"text-3xl md:text-4xl font-semibold text-gray-900 mb-8 text-center\">\r\n          {categoryName}\r\n        </h1>\r\n\r\n        {/* âœ… Product Cards Grid */}\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n          {products.map((it) => (\r\n            <Link key={it.id} href={`/products/${it.slug}`}>\r\n              <Card\r\n                it={{\r\n                  name: it.title,\r\n                  image: it.images?.[0] || \"/no-image.jpg\",\r\n                }}\r\n              />\r\n            </Link>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Loader for infinite scroll */}\r\n        {loading && (\r\n          <div className=\"text-center py-6 text-gray-500 text-sm\">\r\n            Loading products...\r\n          </div>\r\n        )}\r\n        <div ref={loaderRef} className=\"h-10\" />\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}