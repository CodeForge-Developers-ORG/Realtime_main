(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11863,e=>{"use strict";e.s(["getProducts",()=>n,"getProductsWithoutPagination",()=>l]);var t=e.i(67724);let n=async e=>(await t.default.get("/content/products?page=".concat(e))).data,l=async()=>(await t.default.get("/content/products")).data},71478,e=>{"use strict";e.s(["default",()=>c],71478);var t=e.i(43476),n=e.i(71645),l=e.i(16392);let r=e=>{var n,r;let{it:s}=e;return(0,t.jsxs)("div",{className:"bg-gray-50 rounded-md md:rounded-xl p-4 shadow-sm cursor-pointer hover:shadow-md transition",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg p-0 flex items-center justify-center h-30 md:h-40",children:(0,t.jsx)("img",{src:"".concat(l.baseUri).concat(null!=(n=null==s?void 0:s.image)?n:""),alt:null!=(r=null==s?void 0:s.name)?r:"",className:"max-h-full object-contain"})}),(0,t.jsx)("div",{className:"mt-3 text-black text-center font-base md:font-medium line-clamp-1",children:null==s?void 0:s.name})]})};var s=e.i(22016);function i(e){let{categories:l,activeIndex:i,onActiveChange:a}=e,o=(0,n.useRef)(null),c=(0,n.useRef)({});return(0,n.useEffect)(()=>{let e=e=>{let t=e.detail,n=null==t?void 0:t.index;if("number"==typeof n){let e=c.current[n];if(e&&o.current){var l;let t=e.getBoundingClientRect().top+window.scrollY-(null!=(l=o.current.offsetTop)?l:0)-8;window.scrollTo({top:t,behavior:"smooth"})}}};return window.addEventListener("scroll-to-section",e),()=>window.removeEventListener("scroll-to-section",e)},[]),(0,n.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target.getAttribute("data-idx");t&&a(Number(t))}})},{root:null,threshold:[.15,.5,.9]});return l.forEach((t,n)=>{let l=c.current[n];l&&e.observe(l)}),()=>e.disconnect()},[l,a]),(0,t.jsx)("div",{ref:o,className:"pr-4",children:l.map((e,n)=>(0,t.jsxs)("div",{"data-idx":n,ref:e=>{c.current[n]=e},className:"mb-10 p-4 rounded-lg border border-gray-200 bg-white",children:[(0,t.jsx)("h3",{className:"text-lg md:text-2xl text-black font-medium mb-4",children:e.title}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.items.map(e=>(0,t.jsx)(s.default,{href:"/products/".concat(null==e?void 0:e.slug),children:(0,t.jsx)(r,{it:e})},e.id))})]},e.title))})}function a(e){let{categories:l,activeIndex:r,onSelect:s}=e,i=(0,n.useRef)({});return(0,n.useEffect)(()=>{let e=i.current[r];if(e){let t=e.getBoundingClientRect(),n=t.top+window.scrollY,l=t.bottom+window.scrollY,r=window.scrollY,s=r+window.innerHeight;(n<r||l>s)&&window.scrollTo({top:n-20,behavior:"smooth"})}},[r]),(0,t.jsx)("div",{className:"sticky top-5",children:(0,t.jsx)("div",{className:"space-y-3",children:l.map((e,n)=>(0,t.jsx)("button",{ref:e=>{i.current[n]=e},className:"block w-full text-[16px] text-left px-4 py-3 rounded-lg transition-shadow hover:shadow-md ".concat(r===n?"bg-[#EFAF00] text-[#1E1410] font-[300]":"bg-[#F6F6F6] text-[#1E1410] font-[300] cursor-pointer"),onClick:()=>{window.dispatchEvent(new CustomEvent("scroll-to-section",{detail:{index:n}})),s(n)},children:e.title},e.title))})})}var o=e.i(11863);function c(){let[e,l]=(0,n.useState)([]),[r,s]=(0,n.useState)(0),[c,d]=(0,n.useState)(1),[u,m]=(0,n.useState)(!0),[g,h]=(0,n.useState)(!0),f=(0,n.useRef)(null),v=async e=>{try{var t;h(!0);let n=await (0,o.getProducts)(e);(null==n||null==(t=n.data)?void 0:t.length)?(l(e=>{let t=[...e,...n.data];return Array.from(new Map(t.map(e=>[e.id,e])).values())}),m(n.meta.current_page<n.meta.last_page)):m(!1)}catch(e){console.error(e)}finally{h(!1)}};(0,n.useEffect)(()=>{v(c)},[c]),(0,n.useEffect)(()=>{if(!f.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&u&&!g&&d(e=>e+1)},{threshold:1});return e.observe(f.current),()=>e.disconnect()},[u,g]);let x=Object.values(e.reduce((e,t)=>{var n,l;let r=(null==(n=t.category)?void 0:n.name)||"Uncategorized";return e[r]||(e[r]={title:r,items:[]}),e[r].items.push({id:t.id,name:t.title,image:(null==(l=t.images)?void 0:l[0])||"/no-image.jpg",slug:(null==t?void 0:t.slug)||""}),e},{})),p=r===x.length-1;return(0,t.jsxs)("div",{className:"flex gap-6 bg-white p-4 md:p-8 lg:p-[100px] transition-all duration-300 ".concat(p?"sticky":"sticky -top-20"),children:[(0,t.jsx)("aside",{className:"w-64 hidden lg:block",children:(0,t.jsx)(a,{categories:x,activeIndex:r,onSelect:s})}),(0,t.jsxs)("section",{className:"flex-1",children:[(0,t.jsx)(i,{categories:x,activeIndex:r,onActiveChange:s}),g&&(0,t.jsx)("div",{className:"text-center py-4",children:"Loading more..."}),(0,t.jsx)("div",{ref:f,className:"h-10"})]})]})}}]);